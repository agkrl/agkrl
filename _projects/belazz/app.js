(()=>{"use strict";var e={957:(e,t,r)=>{r.r(t)}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,n(o.key),o)}}function n(t){var r=function(t,r){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(r)?r:String(r)}var o=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._value=null,this._error=null}var r,n;return r=e,(n=[{key:"setValue",value:function(e){this._value=e}},{key:"isMaxLength",value:function(e){return this._value.length>e}},{key:"isMinLength",value:function(e){return this._value.length<e}},{key:"isRequired",value:function(){return 0!==this._value.length}},{key:"isPhone",value:function(){return"+7("===this._value?"start":!!this._value.match(/\+7\([\d+]{3}\)[\d+]{3}\-[\d+]{2}\-[\d+]{2}/g)}},{key:"isEmail",value:function(){return!!this._value.match(/([a-z1-9\_\-\.]+)\@([a-z]+)\.([a-z]+)/g)}},{key:"_renderError",value:function(e){if(!e.parentNode.querySelector("span.error")){var t=document.createElement("span");this._error.length>41?t.classList.add("error","error--popup"):t.classList.add("error"),t.innerText=this._error,e.parentNode.appendChild(t)}}},{key:"_removeError",value:function(e){e.parentNode.querySelector("span.error")&&e.parentNode.querySelector("span.error").remove()}},{key:"startSymbol",value:function(){}},{key:"validate",value:function(e){var t=e.type;return function(e){switch(this.setValue(e.target.value),this._error=null,t){case"phone":"start"===this.isPhone()?e.target.style.backgroundColor="white":this.isPhone()?this._error=null:this._error="Не корректный номер";break;case"email":e.target.value[0];var r=e.target.value[e.target.value.length-1];!this._error&&e.target.value.length<5?this._error="Введено некорректное имя ящика. Имя ящика должно быть длиной от 5 до 31 символов.":this._error=null,!this._error&&e.target.value.length>5&&(r&&!r.match(/[a-z]/)?this._error="Введено некорректное имя ящика. Имя должно заканчиваться на латинскую букву или цифру.":this._error=null)}this._error&&this._renderError(e.target),this._error||(this._removeError(e.target),e.target.setAttribute("valid",""))}.bind(o)}}])&&t(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}());const a=o;function i(e){var t="",r=this.element,n=null,o=e[3];return r.addEventListener("focus",(function(r){0===r.target.value.length&&(r.target.value=t||e),r.target.value===e&&(r.target.selectionStart=1,r.target.selectionEnd=1,r.target.onselect=function(t){t.target.value!=e||t.target.setRangeText("",3,3,"start")}),t=r.target.value})),r.addEventListener("keydown",(function(e){n=e.key})),r.addEventListener("input",(function(e){if("Backspace"===n){if(t.length>3)return void(t=e.target.value);if(t.length<=3)return void(this.value="+7(")}if(e.target.value.match(/\+7[\d+]{10}/)){for(var r=e.target.value,a="",i=0;i<=r.length;i++)r[i]&&(a+=r[i]),1==i&&(a+="("),4==i&&(a+=")"),7==i&&(a+="-"),9==i&&(a+="-");e.target.value=a}else e.target.value.match(/\+7\([\d+]{3}\)[\d+]{3}\-[\d+]{2}\-[\d+]{2}/)?e.target.value.length>16&&(e.target.value=t):e.data.match(/\d+/g)?t.includes(o)?(t=t.replace(o,e.data),this.value=t):t.length<16?(0===t.length&&(t="+7("),6===t.length&&(t+=")"),10===t.length&&(t+="-"),13===t.length&&(t+="-"),t+=e.data,this.value=t):this.value=t:this.value="+7("})),r.addEventListener("focusout",(function(e){e.target.hasAttribute("valid")||(e.target.value="")})),this}function l(e){this.element.addEventListener("click",(function(e){if(e.preventDefault(),t){var n=t.querySelector(".modal-content");t.classList.add("modal-open");var o=setTimeout((function(){document.body.style.overflow="hidden",n.classList.add("modal-content--animate"),t.querySelector(".modal-close").addEventListener("click",r),clearTimeout(o)}),0)}}));var t=document.getElementById(e);function r(e){if(e.preventDefault(),t){document.body.removeAttribute("style");var n=t.querySelector(".modal-content");n.classList.remove("modal-content--animate");var o=setTimeout((function(){t.classList.remove("modal-open"),n.removeAttribute("style"),t.querySelector(".modal-close").removeEventListener("click",r),clearTimeout(o)}),200)}}}r(957),function(){var e=document.getElementById("upper");e.addEventListener("click",(function(e){window.scrollTo(0,0)}));var t=new IntersectionObserver((function(e){e.forEach((function(e){if("FOOTER"===e.target.tagName&&e.isIntersecting&&setTimeout((function(){t.disconnect(),t.unobserve(document.querySelector("footer")),document.querySelectorAll("img").forEach((function(e){t.unobserve(e)})),document.querySelectorAll("section.bg-cover").forEach((function(e){t.unobserve(e)}))}),250),e.isIntersecting){var r=e.target.getAttribute("bg");r&&(e.target.classList.add(r),e.target.removeAttribute("bg"))}if("IMG"===e.target.tagName&&e.isIntersecting){var n=e.target.getAttribute("source");n&&(e.target.removeAttribute("source"),setTimeout((function(){e.target.setAttribute("src",n),e.target.classList.remove("spinner"),e.target.removeAttribute("style")}),500))}}))}));document.querySelectorAll("*[bg]").forEach((function(e){t.observe(e)})),document.querySelectorAll("img").forEach((function(e){e.src="images/progress.png",e.style.maxWidth="64px",e.style.maxHeight="64px",e.classList.add("spinner"),t.observe(e)}));var r,n,o,u,s,c,d,v,f,g=(r=function(t){document.body.getBoundingClientRect().y<-682?e.classList.remove("hidden"):e.classList.add("hidden")},250,n=null,function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];n||(n=setTimeout((function(){r.apply(void 0,t),clearTimeout(n),n=null}),250))});function m(e){var t=this,r=document.querySelector(e);return{element:r,mask:i,validate:function(e){var t=a.validate(e);return r.addEventListener("input",t),this},modal:l,click:function(e){return r.addEventListener("click",e),t}}}window.addEventListener("scroll",g,{passive:!0}),m("#phone").mask("+7(___)___-__-__").validate({type:"phone"}),m("#phone2").mask("+7(___)___-__-__").validate({type:"phone"}),m("#phone3").mask("+7(___)___-__-__").validate({type:"phone"}),m("#email").validate({type:"email"}),m("#order").modal("recall"),m("#price").modal("recall"),m(".popup__close").click((function(e){var t=e.target.closest(".popup");t.style.display="none",setTimeout((function(){t.removeAttribute("style")}),200)})),o=document.getElementById("carousel-left"),u=document.getElementById("carousel-right"),document.getElementById("carousel"),s=document.getElementById("carousel-content"),c=425,d=465*s.children.length,v=1275,f=0,o.addEventListener("click",(function(e){e.preventDefault(),s.scrollLeft-=c,f+=1,(v-=c)<1275&&(s.scrollLeft=d,v=d,f=0),console.log(f,v,d)})),u.addEventListener("click",(function(e){e.preventDefault(),s.scrollLeft+=c,f+=1,(v+=c)>d&&(s.scrollLeft=0,v=d-c*f,f=0),console.log(f,v,d)}))}()})()})();